@page "/counter"
@using AndrewAndNatesOnlineStore.Domain.DataAccess
@using AndrewAndNatesOnlineStore.Domain
@using System.Linq
@using System.Runtime.InteropServices
@using AndrewAndNatesOnlineStore.Domain.Models

<PageTitle>Counter</PageTitle>

<MudText>Counter</MudText>

<MudText role="status">Current count: @currentCount</MudText>

<MudButton class="btn btn-primary" @onclick="IncrementCount">Click me</MudButton>

@code {
    private int currentCount;

    private void IncrementCount()
    {
        currentCount++;
        using (var context = new MyDbContext())
        {
            context.Database.EnsureCreated();
            context.Customer.Add(new Customer()
            {
                Firstname = "TestFirstName",
                Lastname = "TestLastName",
                Birthdate = DateTime.Today,
                Username = "Test123",
                LoginPassword = "123",
                CustomerJoinDate = DateTime.Today,
                PremiumMember = true,
                Shopppingcart = null
            });
            context.SaveChanges();

            var test = context.Customer.Select(x => x).ToList();
        }
    }



}